# Sistema de Sorteos Mejorado - VerdeScan

## Resumen de Mejoras

Se ha implementado un sistema completo y atractivo de sorteos con las siguientes caracter√≠sticas:

### 1. Cards Informativas y Llamativas

‚úÖ **Dise√±o visual mejorado** con:
- Gradientes de colores seg√∫n categor√≠a del premio
- Iconos espec√≠ficos para cada tipo de premio (pizza, helado, libros, cine, plantas, etc.)
- Animaciones sutiles y efectos hover
- Badges informativos con patrocinador
- Contador de d√≠as restantes con colores seg√∫n urgencia

### 2. Sistema de M√∫ltiples Costos

‚úÖ **Boletos con diferentes precios**:
- **100 puntos**: Premios b√°sicos (cine, kit de jardiner√≠a)
- **200 puntos**: Premios intermedios (descuentos en pizzer√≠a, librer√≠a)
- **300 puntos**: Premios premium (helado artesanal)
- **500 puntos**: Premios especiales (pack sustentable completo)

### 3. Categor√≠as de Premios

‚úÖ **Tres categor√≠as principales**:

#### üåø Eco (Verde)
- Productos sustentables
- Abono org√°nico y plantines
- Kits de reciclaje
- Bicicletas

#### üè™ Comercio Local (Azul)
- Premios de comercios locales
- Pizzer√≠as, helader√≠as, librer√≠as, cines
- Apoyo a negocios de Posadas

#### üí∞ Descuentos (Naranja)
- Cupones y vouchers
- Descuentos porcentuales
- Beneficios en comercios

### 4. Premios Implementados

1. **Kit de Jardiner√≠a Ecol√≥gica** (100 pts)
   - 5 Bolsas de Abono + 10 Plantines
   - Sponsor: Vivero Posadas Verde

2. **Descuento en Pizzer√≠a La Famiglia** (200 pts)
   - 30% OFF en Pizza Grande
   - Sponsor: Pizzer√≠a La Famiglia

3. **Helader√≠a Artesanal** (300 pts)
   - 4kg de Helado Artesanal
   - Sponsor: Helader√≠a Del Pueblo

4. **Librer√≠a Cultural Posadas** (200 pts)
   - Voucher $15.000 en Librer√≠a
   - Sponsor: Librer√≠a Cultural

5. **Cine Posadas - Entradas Dobles** (100 pts)
   - 2 Entradas + 2 Combos de Cine
   - Sponsor: Cine Posadas

6. **Pack Sustentable Premium** (500 pts)
   - Bicicleta + Kit de Reciclaje
   - Sponsor: Municipalidad de Posadas

### 5. Sistema de Puntos

‚úÖ **Descuento autom√°tico**:
- Los puntos se descuentan autom√°ticamente al comprar boletos
- Validaci√≥n de puntos disponibles antes de comprar
- L√≠mite de boletos seg√∫n puntos disponibles

‚úÖ **NO afecta al ranking**:
- Los puntos gastados en sorteos NO reducen la posici√≥n en el ranking de barrios
- Los usuarios pueden participar sin preocuparse por perder posiciones

### 6. Modal de Confirmaci√≥n Mejorado

‚úÖ **Experiencia de compra completa**:
- Confirmaci√≥n visual con iconos y colores
- Muestra todos los n√∫meros de boleto generados
- Informaci√≥n del premio y patrocinador
- Fecha del sorteo
- Puntos restantes
- Recordatorio sobre el ranking

## Archivos Modificados

1. **src/app/dashboard/raffles/page.tsx**
   - Componente principal del sistema de sorteos
   - Cards con dise√±o mejorado
   - Sistema de categor√≠as y colores
   - Modal de confirmaci√≥n redise√±ado

2. **supabase-raffles-update.sql**
   - Script SQL para actualizar la tabla `raffles`
   - Agrega columnas: `category`, `sponsor`, `image_url`
   - Incluye datos de ejemplo

## C√≥mo Usar

### Para Usuarios

1. Acceder a la secci√≥n "Sorteos" en el dashboard
2. Revisar los premios disponibles con sus costos
3. Seleccionar cantidad de boletos deseada
4. Comprar boletos con Posadas Points
5. Recibir n√∫meros de boleto √∫nicos
6. Esperar al sorteo autom√°tico en la fecha indicada

### Para Administradores

1. Ejecutar el script `supabase-raffles-update.sql` en Supabase
2. Los sorteos se crear√°n autom√°ticamente con los datos de ejemplo
3. Personalizar premios, costos y fechas seg√∫n necesidad
4. Agregar sponsors y categor√≠as a nuevos sorteos

## Base de Datos

### Columnas de la tabla `raffles`:

```sql
- id: UUID (Primary Key)
- title: TEXT (T√≠tulo del sorteo)
- description: TEXT (Descripci√≥n detallada)
- prize: TEXT (Nombre del premio)
- ticket_cost: INTEGER (Costo por boleto: 100, 200, 300, 500)
- draw_date: TIMESTAMPTZ (Fecha del sorteo)
- status: TEXT (Estado: 'active', 'completed', 'cancelled')
- category: TEXT (Categor√≠a: 'eco', 'commerce', 'discount')
- sponsor: TEXT (Nombre del patrocinador/comercio)
- image_url: TEXT (URL de imagen del premio - opcional)
- created_at: TIMESTAMPTZ
```

## Caracter√≠sticas T√©cnicas

### Iconos Din√°micos
- Leaf, Sprout: Premios ecol√≥gicos
- Pizza, IceCream, Book, Film: Comercios espec√≠ficos
- Store: Comercio general
- Percent: Descuentos
- Gift: Premio gen√©rico

### Colores por Categor√≠a
- **Eco**: Verde/Esmeralda
- **Comercio**: Azul/Cian
- **Descuento**: Naranja/√Åmbar

### Validaciones
- Puntos insuficientes
- Cantidad m√≠nima de boletos (1)
- Cantidad m√°xima seg√∫n puntos disponibles
- Sorteos solo en estado 'active'

## Pr√≥ximos Pasos Sugeridos

1. ‚úÖ Implementar sistema de notificaciones por email
2. ‚úÖ Agregar historial de boletos comprados
3. ‚úÖ Crear panel de administraci√≥n para sorteos
4. ‚úÖ Implementar sistema de sorteo autom√°tico
5. ‚úÖ Agregar galer√≠a de im√°genes de premios
6. ‚úÖ Crear estad√≠sticas de participaci√≥n

## Notas Importantes

- Los puntos gastados en sorteos NO afectan el ranking de barrios
- Cada boleto tiene un n√∫mero √∫nico de 6 d√≠gitos
- Los sorteos se realizan autom√°ticamente en la fecha indicada
- Los usuarios son notificados si ganan
- Los premios deben ser reclamados en el comercio patrocinador

---

**Desarrollado para VerdeScan** üå±‚ôªÔ∏è
Sistema de incentivos para reciclaje comunitario en Posadas, Misiones, Argentina.
